-- VHDL Entity hsio.xilinx_reset.symbol
--
-- Created by Matt Warren 2014
--
-- Generated by Mentor Graphics' HDL Designer(TM) 2013.1 (Build 6)
--

library ieee;
use ieee.std_logic_1164.all;
use ieee.std_logic_arith.all;
use ieee.std_logic_unsigned.all;

entity xilinx_reset is
   port( 
      clk      : in     std_ulogic;
      ready_i  : in     std_logic;
      reset_no : out    std_ulogic;
      reset_o  : out    std_ulogic;
      resetq_o : out    std_logic
   );

-- Declarations

end xilinx_reset ;

-- VHDL from Block Diagram 
-- Generated by Mentor Graphics HDL Designer(TM) 2013.1 (Build 6) 
--
-- hsio.xilinx_reset.struct
--
-- Created by Matt Warren 2014
--

library ieee;
use ieee.std_logic_1164.all;
use ieee.std_logic_arith.all;
use ieee.std_logic_unsigned.all;


architecture struct of xilinx_reset is

   -- Architecture declarations

   -- Internal signal declarations
   signal HI          : STD_ULOGIC;
   signal LO          : std_ulogic;
   signal ZERO13      : std_logic_vector(12 downto 0);
   signal ZERO16      : std_logic_vector(15 downto 0);
   signal ZERO2       : std_logic_vector(1 downto 0);
   signal ZERO4       : std_logic_vector(3 downto 0);
   signal ZERO8       : std_logic_vector(7 downto 0);
   signal not_ready   : std_logic;
   signal pre_rst     : std_logic;
   signal reset0      : std_logic;
   signal rst_latch_n : std_ulogic;


   -- ModuleWare signal declarations(v1.12) for instance 'U_3' of 'adff'
   signal mw_U_3reg_cval : std_logic;

   -- Component Declarations
   component FDCP
   generic (
      INIT : bit := '0'
   );
   port (
      C   : in     std_ulogic;
      CLR : in     std_ulogic;
      D   : in     std_ulogic;
      PRE : in     std_ulogic;
      Q   : out    std_ulogic
   );
   end component;
   component SRL16
   generic (
      INIT : bit_vector := X"0000"
   );
   port (
      A0  : in     STD_ULOGIC;
      A1  : in     STD_ULOGIC;
      A2  : in     STD_ULOGIC;
      A3  : in     STD_ULOGIC;
      CLK : in     STD_ULOGIC;
      D   : in     STD_ULOGIC;
      Q   : out    STD_ULOGIC
   );
   end component;


begin
   -- Architecture concurrent statements
   -- HDL Embedded Text Block 4 eb4
   -- eb3 3
   HI <= '1';
   LO <= '0';
   ZERO2 <=  "00";
   ZERO4 <=  "0000";
   ZERO8 <=  "00000000";
   ZERO13 <= "0000000000000";
   ZERO16 <= "0000000000000000";


   -- ModuleWare code(v1.12) for instance 'U_3' of 'adff'
   resetq_o <= mw_U_3reg_cval;
   prcu_3seq: process (clk)begin
      if (clk'event and clk='1') then
         mw_U_3reg_cval <= reset0;
      end if;
   end process prcu_3seq;

   -- ModuleWare code(v1.12) for instance 'U_2' of 'buff'
   reset_o <= reset0;

   -- ModuleWare code(v1.12) for instance 'U_0' of 'inv'

   -- ModuleWare code(v1.12) for instance 'U_1' of 'inv'
   not_ready <= not(ready_i);

   -- ModuleWare code(v1.12) for instance 'U_4' of 'or'
   reset0 <= not(rst_latch_n) or pre_rst;

   -- Instance port mappings.
   Ufdcp : FDCP
      generic map (
         INIT => '0'
      )
      port map (
         Q   => rst_latch_n,
         C   => LO,
         CLR => not_ready,
         D   => LO,
         PRE => pre_rst
      );
   Usrl16 : SRL16
      generic map (
         INIT => X"FFFF"
      )
      port map (
         Q   => pre_rst,
         A0  => HI,
         A1  => HI,
         A2  => HI,
         A3  => HI,
         CLK => clk,
         D   => not_ready
      );

end struct;
